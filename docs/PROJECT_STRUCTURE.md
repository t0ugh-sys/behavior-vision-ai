# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
detection/
â”œâ”€â”€ backend/                    # Spring Boot åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/detection/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config/           # é…ç½®ç±»ï¼ˆSecurity, JWT, WebSocket, CORSï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ controller/       # REST API æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dto/              # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entity/           # JPA å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ exception/        # å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/       # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ util/             # å·¥å…·ç±»ï¼ˆJWTï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â”œâ”€â”€ application.yml   # Spring Boot é…ç½®
â”‚   â”‚   â”‚       â””â”€â”€ logback-spring.xml # æ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ logs/                   # åº”ç”¨æ—¥å¿—ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ uploads/                # ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ target/                 # Maven ç¼–è¯‘è¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ pom.xml                 # Maven ä¾èµ–é…ç½®
â”‚
â”œâ”€â”€ frontend/                   # Vue 3 å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ alert.js              # å‘Šè­¦ç›¸å…³ API
â”‚   â”‚   â”‚   â”œâ”€â”€ detection.js          # æ£€æµ‹ç›¸å…³ API
â”‚   â”‚   â”‚   â”œâ”€â”€ health.js             # å¥åº·æ£€æŸ¥ API
â”‚   â”‚   â”‚   â”œâ”€â”€ user.js               # ç”¨æˆ·ç›¸å…³ API
â”‚   â”‚   â”‚   â””â”€â”€ zone.js               # åŒºåŸŸé…ç½® API
â”‚   â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CountUp.vue           # æ•°å­—åŠ¨ç”»ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ EmptyState.vue        # ç©ºçŠ¶æ€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.vue    # åŠ è½½åŠ¨ç”»ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ StatCard.vue          # ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ alert.js              # å‘Šè­¦çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ user.js               # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ styles/             # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ global.css            # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ variables.css         # CSS å˜é‡
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ export.js             # å¯¼å‡ºåŠŸèƒ½ï¼ˆExcel/CSV/JSONï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ request.js            # Axios æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â””â”€â”€ websocket.js          # WebSocket å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Alerts.vue            # å‘Šè­¦ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue         # ä»ªè¡¨æ¿é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Detection.vue         # å®æ—¶æ£€æµ‹é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.vue            # ä¸»å¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue             # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Records.vue           # æ£€æµ‹è®°å½•é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Settings.vue          # ç³»ç»Ÿè®¾ç½®é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Statistics.vue        # ç»Ÿè®¡åˆ†æé¡µé¢
â”‚   â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ alert.mp3           # å‘Šè­¦éŸ³æ•ˆ
â”‚   â”œâ”€â”€ index.html              # HTML å…¥å£
â”‚   â”œâ”€â”€ package.json            # npm ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ package-lock.json       # npm ä¾èµ–é”å®š
â”‚   â”œâ”€â”€ vite.config.js          # Vite æ„å»ºé…ç½®
â”‚   â””â”€â”€ node_modules/           # npm ä¾èµ–ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ python-service/             # Python æ£€æµ‹æœåŠ¡
â”‚   â”œâ”€â”€ app.py                  # FastAPI åº”ç”¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ detector.py             # YOLOv8 æ£€æµ‹æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ alert_notifier.py       # å‘Šè­¦é€šçŸ¥æ¨¡å—
â”‚   â”œâ”€â”€ config.py               # Python æœåŠ¡é…ç½®
â”‚   â”œâ”€â”€ rtsp_handler.py         # RTSP æµå¤„ç†
â”‚   â”œâ”€â”€ realtime_stream.py      # å®æ—¶æµå¤„ç†
â”‚   â”œâ”€â”€ temporal.py             # æ—¶åºåˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ zone_detector.py        # åŒºåŸŸå…¥ä¾µæ£€æµ‹
â”‚   â”œâ”€â”€ yolov8n-pose.pt         # YOLOv8 å§¿æ€ä¼°è®¡æ¨¡å‹
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â”œâ”€â”€ uploads/                # ä¸Šä¼ æ–‡ä»¶ä¸´æ—¶å­˜å‚¨
â”‚   â”œâ”€â”€ visualizations/         # æ£€æµ‹ç»“æœå¯è§†åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ snapshots/              # å‘Šè­¦å¿«ç…§
â”‚   â”œâ”€â”€ temp/                   # ä¸´æ—¶æ–‡ä»¶ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰
â”‚   â””â”€â”€ __pycache__/            # Python ç¼“å­˜ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ database/                   # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ schema.sql              # æ•°æ®åº“è¡¨ç»“æ„
â”‚
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ ALGORITHM.md            # ç®—æ³•è¯´æ˜
â”‚   â”œâ”€â”€ API.md                  # API æ–‡æ¡£
â”‚   â”œâ”€â”€ JWTè®¤è¯è¯´æ˜.md          # JWT è®¤è¯è¯´æ˜
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md    # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ QUICKSTART.md           # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”‚   â”œâ”€â”€ SCRIPTS_GUIDE.md        # è„šæœ¬ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ å®‰è£…MySQLåˆ°Dç›˜.md       # MySQL å®‰è£…æŒ‡å—
â”‚
â”œâ”€â”€ uploads/                    # ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼ˆæ ¹ç›®å½•ï¼‰
â”œâ”€â”€ logs/                       # ç³»ç»Ÿæ—¥å¿—
â”‚
â”œâ”€â”€ start.bat                   # å¯åŠ¨æ‰€æœ‰æœåŠ¡
â”œâ”€â”€ stop.bat                    # åœæ­¢æ‰€æœ‰æœåŠ¡
â”œâ”€â”€ status.bat                  # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
â”œâ”€â”€ diagnose.bat                # è¯Šæ–­å·¥å…·
â”œâ”€â”€ config.bat                  # é…ç½®æ–‡ä»¶ï¼ˆä¸æäº¤åˆ°Gitï¼‰
â”‚
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â””â”€â”€ PROJECT_STATUS.md           # é¡¹ç›®çŠ¶æ€
```

## ğŸ“ ç›®å½•è¯´æ˜

### åç«¯æœåŠ¡ (backend/)

**æŠ€æœ¯æ ˆ**: Spring Boot 3.x + Spring Security + JWT + WebSocket + JPA + MySQL

**ä¸»è¦åŠŸèƒ½**:
- ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- æ£€æµ‹è®°å½•ç®¡ç†
- å‘Šè­¦ç®¡ç†
- ç»Ÿè®¡åˆ†æ
- WebSocket å®æ—¶æ¨é€
- åŒºåŸŸé…ç½®ç®¡ç†

**ç«¯å£**: 8080  
**APIå‰ç¼€**: `/api`

### å‰ç«¯åº”ç”¨ (frontend/)

**æŠ€æœ¯æ ˆ**: Vue 3 + Vite + Element Plus + Pinia + ECharts

**ä¸»è¦é¡µé¢**:
- ä»ªè¡¨æ¿ï¼šç³»ç»Ÿæ¦‚è§ˆã€æœåŠ¡çŠ¶æ€
- å®æ—¶æ£€æµ‹ï¼šæ–‡ä»¶æ£€æµ‹ã€æ‘„åƒå¤´æ£€æµ‹ã€RTSPæµæ£€æµ‹
- æ£€æµ‹è®°å½•ï¼šå†å²è®°å½•æŸ¥çœ‹ã€å¯¼å‡ºã€æ‰“å°
- å‘Šè­¦ç®¡ç†ï¼šå‘Šè­¦æŸ¥çœ‹ã€å¤„ç†ã€åˆ é™¤
- ç»Ÿè®¡åˆ†æï¼šæ•°æ®å¯è§†åŒ–ã€è¶‹åŠ¿åˆ†æ
- ç³»ç»Ÿè®¾ç½®ï¼šç”¨æˆ·ä¿¡æ¯ã€æ£€æµ‹é…ç½®

**ç«¯å£**: 5173 (å¼€å‘ç¯å¢ƒ)

### Pythonæ£€æµ‹æœåŠ¡ (python-service/)

**æŠ€æœ¯æ ˆ**: FastAPI + Ultralytics YOLOv8 + OpenCV + NumPy

**ä¸»è¦åŠŸèƒ½**:
- äººä½“å§¿æ€ä¼°è®¡
- è·Œå€’æ£€æµ‹
- å¼‚å¸¸å§¿æ€æ£€æµ‹
- æ‰“æ¶æ£€æµ‹
- åŒºåŸŸå…¥ä¾µæ£€æµ‹
- è§†é¢‘/å›¾ç‰‡æ£€æµ‹
- RTSPå®æ—¶æµæ£€æµ‹
- ç»“æœå¯è§†åŒ–

**ç«¯å£**: 5000

## ğŸ—‚ï¸ æ–‡ä»¶ç±»å‹è¯´æ˜

### è‡ªåŠ¨ç”Ÿæˆï¼ˆä¸åº”æäº¤åˆ°Gitï¼‰

- `backend/target/` - Mavenç¼–è¯‘è¾“å‡º
- `backend/logs/` - åº”ç”¨æ—¥å¿—
- `frontend/node_modules/` - npmä¾èµ–
- `frontend/dist/` - å‰ç«¯æ„å»ºè¾“å‡º
- `python-service/__pycache__/` - Pythonç¼“å­˜
- `python-service/temp/` - ä¸´æ—¶æ–‡ä»¶
- `*.log` - æ—¥å¿—æ–‡ä»¶
- `*.class` - Javaå­—èŠ‚ç 

### è¿è¡Œæ—¶ç”Ÿæˆï¼ˆéœ€è¦ä¿ç•™ç›®å½•ï¼‰

- `uploads/` - ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
- `python-service/uploads/` - PythonæœåŠ¡ä¸´æ—¶å­˜å‚¨
- `python-service/visualizations/` - æ£€æµ‹ç»“æœå¯è§†åŒ–
- `python-service/snapshots/` - å‘Šè­¦å¿«ç…§

### é…ç½®æ–‡ä»¶

- `config.bat` - æœ¬åœ°é…ç½®ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸æäº¤ï¼‰
- `application.yml` - Spring Booté…ç½®
- `vite.config.js` - Viteé…ç½®
- `requirements.txt` - Pythonä¾èµ–

### è„šæœ¬æ–‡ä»¶

- `start.bat` - å¯åŠ¨è„šæœ¬ï¼ˆç¼–è¯‘åç«¯ + å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼‰
- `stop.bat` - åœæ­¢è„šæœ¬ï¼ˆåœæ­¢æ‰€æœ‰æœåŠ¡ï¼‰
- `status.bat` - çŠ¶æ€æ£€æŸ¥
- `diagnose.bat` - è¯Šæ–­å·¥å…·

## ğŸ”§ ç»´æŠ¤å»ºè®®

### å®šæœŸæ¸…ç†

1. **ä¸´æ—¶æ–‡ä»¶**:
   ```bash
   python-service/temp/*.mp4
   python-service/temp/*.jpg
   ```

2. **æ—§æ—¥å¿—æ–‡ä»¶**:
   ```bash
   backend/logs/*.log
   ```

3. **ç¼–è¯‘äº§ç‰©**:
   ```bash
   backend/target/
   frontend/dist/
   ```

### å¤‡ä»½é‡è¦æ•°æ®

- æ•°æ®åº“å®šæœŸå¤‡ä»½
- `uploads/` ç›®å½•ï¼ˆç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ï¼‰
- `python-service/visualizations/` ç›®å½•ï¼ˆæ£€æµ‹ç»“æœï¼‰
- `python-service/snapshots/` ç›®å½•ï¼ˆå‘Šè­¦å¿«ç…§ï¼‰

### æ›´æ–°ä¾èµ–

1. **åç«¯ä¾èµ–**:
   ```bash
   cd backend
   mvn versions:display-dependency-updates
   ```

2. **å‰ç«¯ä¾èµ–**:
   ```bash
   cd frontend
   npm outdated
   npm update
   ```

3. **Pythonä¾èµ–**:
   ```bash
   cd python-service
   pip list --outdated
   pip install --upgrade -r requirements.txt
   ```

## ğŸ“Š å­˜å‚¨ç©ºé—´ç®¡ç†

### å ç”¨ç©ºé—´æœ€å¤§çš„ç›®å½•

1. `frontend/node_modules/` - çº¦ 200-500 MB
2. `python-service/visualizations/` - æ ¹æ®ä½¿ç”¨é‡å¢é•¿
3. `uploads/` - æ ¹æ®ç”¨æˆ·ä¸Šä¼ é‡å¢é•¿
4. `backend/target/` - çº¦ 50-100 MB
5. `python-service/yolov8n-pose.pt` - çº¦ 6 MB

### æ¸…ç†å»ºè®®

- å¼€å‘ç¯å¢ƒå¯ä»¥å®šæœŸåˆ é™¤ `node_modules/` å’Œ `target/`
- ç”Ÿäº§ç¯å¢ƒåº”è¯¥å®šæœŸå½’æ¡£æˆ–åˆ é™¤æ—§çš„æ£€æµ‹ç»“æœå’Œä¸Šä¼ æ–‡ä»¶
- ä½¿ç”¨æ—¥å¿—è½®è½¬ç­–ç•¥ç®¡ç†æ—¥å¿—æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå‘½ä»¤

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
.\start.bat

# åœæ­¢æ‰€æœ‰æœåŠ¡
.\stop.bat

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
.\status.bat

# è¯Šæ–­é—®é¢˜
.\diagnose.bat

# åªæ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼ˆä¸åœæ­¢æœåŠ¡ï¼‰
Remove-Item -Path "python-service\temp\*" -Force
Remove-Item -Path "python-service\__pycache__" -Recurse -Force
Remove-Item -Path "backend\target" -Recurse -Force
```

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä¸è¦æ‰‹åŠ¨ä¿®æ”¹**:
   - `target/` ç›®å½•
   - `node_modules/` ç›®å½•
   - `__pycache__/` ç›®å½•
   - `.class` æ–‡ä»¶

2. **è°¨æ…æ“ä½œ**:
   - `uploads/` ç›®å½•ï¼ˆç”¨æˆ·æ•°æ®ï¼‰
   - `database/` ç›®å½•ï¼ˆæ•°æ®åº“è„šæœ¬ï¼‰
   - é…ç½®æ–‡ä»¶ä¿®æ”¹

3. **å¿…é¡»ä¿ç•™**:
   - `yolov8n-pose.pt` æ¨¡å‹æ–‡ä»¶
   - `schema.sql` æ•°æ®åº“è¡¨ç»“æ„
   - `.gitkeep` æ–‡ä»¶ï¼ˆä¿æŒç›®å½•ç»“æ„ï¼‰

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](./QUICKSTART.md)
- [APIæ–‡æ¡£](./API.md)
- [ç®—æ³•è¯´æ˜](./ALGORITHM.md)
- [è„šæœ¬ä½¿ç”¨æŒ‡å—](./SCRIPTS_GUIDE.md)

